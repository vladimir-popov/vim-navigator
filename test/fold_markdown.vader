Given(Markdown buffer):
  -- content --    1 0
  # Title 1        2 1
  -- content --    3 1
                   4 0
  ## Subtitle      5 2
  -- content --    7 2
                   8 2
  -- content --    9 2

Execute(Validate items):
  let navigator = g:NavigatorNew()
  let navigator.beginningOfSection = { i -> getline(i) =~# '\v^\s*\#+' }
  let navigator.sectionTitle = { i -> 'title' }
  let navigator.sectionLevel = { lnum -> len(matchstr(getline(lnum), '\v\#+', 0, 1)) }

  let expectedItems = [
    \ { 'begin': 2, 'end': 3, 'fold': 1, 'title': 'title' },
    \ { 'begin': 5, 'end': 9, 'fold': 2, 'title': 'title' },
    \ ]

  AssertEqual expectedItems, navigator.items()

Execute(Validate folds):
  for i in range(1, line('$'))
    let actual = navigator.foldLevel(i)
    let expected = str2nr(getline(i)[24])
    AssertEqual expected, actual, 
      \ actual .. ' is not equal to ' .. expected .. ' on line ' .. i
  endfor
